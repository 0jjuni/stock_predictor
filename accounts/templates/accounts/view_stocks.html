{% extends "base/base.html" %}

{% block title %}My Interest Stocks{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">My Interest Stocks</h1>
    <p class="text-center">사놓은 종목이 있거나 관심있는 종목이 있는 경우 추가해서 해당 종목을 관리하세요!</p> <!-- 설명 추가 -->

    {% if stock_data %}
        <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead style="background-color: #007bff; color: white;">
                    <tr>
                        <th class="text-center" style="vertical-align: middle;">Stock Name</th>
                        <th class="text-center" style="vertical-align: middle;">5% 상승 예측</th>
                        <th class="text-center" style="vertical-align: middle;">5% 하락 예측</th>
                        <th class="text-center" style="vertical-align: middle;">뉴스·공시</th> <!-- 뉴스 열 추가 -->
                    </tr>
                </thead>
                <tbody>
                    {% for item in stock_data %}
                        <tr class="text-center">
                            <td style="vertical-align: middle;">{{ item.stock.stock_name }}</td>
                            <td style="vertical-align: middle;">
                                {% if item.predict_5_data %}
                                    {% if item.predict_5_data.prediction == 1 %}
                                        <span style="color: red;">5% 이상 상승 예상</span>
                                    {% else %}
                                        <span>5% 이상 상승하지 않음</span>
                                    {% endif %}
                                {% else %}
                                    <span>No data</span>
                                {% endif %}
                            </td>
                            <td style="vertical-align: middle;">
                                {% if item.minus_predict_data %}
                                    {% if item.minus_predict_data.prediction == 1 %}
                                        <span style="color: blue;">5% 이상 하락 예상</span>
                                    {% else %}
                                        <span>5% 이상 하락하지 않음</span>
                                    {% endif %}
                                {% else %}
                                    <span>No data</span>
                                {% endif %}
                            </td>
                            <td style="vertical-align: middle;">
                                <a href="https://finance.naver.com/item/news.naver?code={{ item.stock.stock_code }}" target="_blank" class="btn btn-primary">
                                    바로가기
                                </a>
                            </td> <!-- 뉴스 열에 버튼 추가 -->
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p class="text-center">No stocks in your interest list.</p>
    {% endif %}
</div>
{% endblock %}
