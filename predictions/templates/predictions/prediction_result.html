{% extends "base/base.html" %}

{% block title %}Prediction Result{% endblock %}

{% block content %}
<div class="container mt-7">
    <h1 class="text-center mb-4">{{ stock_name }}</h1>

    <!-- 결과 데이터 표시 -->
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead style="background-color: blue; color: white; text-align: center;">
                <tr>
                    <th class="text-center">Date</th>
                    <th class="text-center">Open</th>
                    <th class="text-center">High</th>
                    <th class="text-center">Low</th>
                    <th class="text-center">Close</th>
                    <th class="text-center">Volume</th>
                </tr>
            </thead>
            <tbody>
                <tr class="text-center">
                    <td>{{ date }}</td>
                    <td>{{ open_price }}</td>
                    <td>{{ high }}</td>
                    <td>{{ low }}</td>
                    <td>{{ close }}</td>
                    <td>{{ volume }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Predict_5 모델에서 가져온 예측값 표시 -->
    <div class="mt-5">
        {% if predict_5_data %}
            {% if predict_5_data.prediction == 1 %}
                <div style="background-color: #FF204E; color: white; padding: 15px; width: 60%; margin: 0 auto; border-radius: 8px; text-align: center;">
                    5% 이상 상승할 수 있음.
                </div>
            {% elif predict_5_data.prediction == 0 %}
                <div style="background-color: white; color: black; padding: 15px; border-radius: 8px; width: 60%; margin: 0 auto; text-align: center;">
                    5% 이상 상승하지 않음.
                </div>
            {% else %}
                <div style="background-color: #FF204E; color: white; padding: 15px; width: 60%; margin: 0 auto; border-radius: 8px; text-align: center;">
                    No data available for Predict_5 model.
                </div>
            {% endif %}
        {% else %}
            <div style="background-color: red; color: white; padding: 15px; width: 60%; margin: 0 auto; border-radius: 8px; text-align: center;">
                No data available for Predict_5 model.
            </div>
        {% endif %}
    </div>

    <!-- minusPredict 모델에서 가져온 예측값 표시 -->
    <div class="mt-3">
        {% if minus_predict_data %}
            {% if minus_predict_data.prediction == 1 %}
                <div style="background-color: #007bff; color: white; padding: 15px; width: 60%; margin: 0 auto; border-radius: 8px; text-align: center;">
                    5% 이상 하락할 수 있음.
                </div>
            {% elif minus_predict_data.prediction == 0 %}
                <div style="background-color: white; color: black; padding: 15px; width: 60%; margin: 0 auto; border-radius: 8px; text-align: center;">
                    5% 이상 하락하지 않음.
                </div>
            {% else %}
                <div style="background-color: white; color: black; padding: 15px; width: 60%; margin: 0 auto; border-radius: 8px; text-align: center;">
                    No data available for minusPredict model.
                </div>
            {% endif %}
        {% else %}
            <div style="background-color: #007bff; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                No data available for minusPredict model.
            </div>
        {% endif %}
    </div>

    <div class="text-center mt-4">
        <a href="{% url 'predict_stock' %}" class="btn btn-primary">Back to Prediction Form</a>
    </div>
</div>
{% endblock %}
